<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>外观模式</title>
</head>
<body>
<script type="text/javascript">
    /*
     * 外观模式为子系统的一组接口提供了一个一致的界面，此模块
     * 定义了一个高层接口，这个接口使得这一至系统更加容易使用
     */
        // 外观模式经常被用于JavaScript类库里，通过它封装一些接口用于兼容多浏览器
        // 示例：一段未优化的代码
    let addMyEvent = function (el, ev, fn) {
            if (el.addEventListener) {
                el.addEventListener(ev, fn, false);
            } else if (el.attachEvent) {
                el.attachEvent('on' + ev, fn);
            } else {
                el['on' + ev] = fn;
            }
        };

    // 一个简单的例子，外观模式就是用一个接口封装其他的接口：
    let mobileEvent = {
        // ....
        stop: function (e) {
            e.preventDefault();
            e.stopPropagation();
        }
        // ....
    };

    /*
     *
     * 总结：
     * 何时使用外观模式，一般来说分三个阶段：
     * 1. 首先，在设计初期，应该有意识的将不同的两个层分离，
     * 比如经典的三层结构，在数据访问层和业务逻辑层、业务逻辑层和表示层之间建立外观Facade
     * 2. 其次，在开发阶段，子系统往往因为不断地重构演化而变得越来越复杂，增加外观facade
     * 可以提供一个简单的接口，减少依赖
     * 3. 第三，在维护一个遗留的大型系统时，可能这个系统已经很难维护了，这时候使用外观Facade
     * 也是非常合适的，为系统开发一个外观Facade类，为设计粗糙和高度复杂的遗留代码提供
     * 比较清晰的接口，让新系统和Facade对象交互，Facade与遗留代码交互所有的复杂工作。
     *
     */
</script>
</body>
</html>